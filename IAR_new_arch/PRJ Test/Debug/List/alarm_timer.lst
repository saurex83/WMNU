###############################################################################
#
# IAR C/C++ Compiler V10.10.1.4655 for 8051               06/Feb/2020  02:16:18
# Copyright 2004-2017 IAR Systems AB.
# PC-locked license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data
#    Dptr setup         =  1,16
#                          
#    Source file        =  E:\WMNU\IAR_NEW_ARCH\STACK_CORE_SRC\alarm_timer.c
#    Command line       =  
#        -f C:\Users\08A4~1\AppData\Local\Temp\EW7BE3.tmp
#        (E:\WMNU\IAR_NEW_ARCH\STACK_CORE_SRC\alarm_timer.c -lC
#        "E:\WMNU\IAR_new_arch\PRJ Test\Debug\List" -o
#        "E:\WMNU\IAR_new_arch\PRJ Test\Debug\Obj" -e --debug --core=plain
#        --dptr=16,1 --data_model=large --code_model=banked
#        --calling_convention=xdata_reentrant --place_constants=data
#        --nr_virtual_regs 8 --dlib_config "C:\Program Files (x86)\IAR
#        Systems\Embedded Workbench 8.0\8051\LIB\DLIB\dl8051Normal.h" -I
#        E:\WMNU\IAR_new_arch\Stack_core_src\ -On --no_cse --no_unroll
#        --no_inline --no_code_motion --no_tbaa --no_cross_call)
#    Locale             =  Russian_Russia.1251
#    List file          =  
#        E:\WMNU\IAR_new_arch\PRJ Test\Debug\List\alarm_timer.lst
#    Object file        =  
#        E:\WMNU\IAR_new_arch\PRJ Test\Debug\Obj\alarm_timer.r51
#
###############################################################################

E:\WMNU\IAR_NEW_ARCH\STACK_CORE_SRC\alarm_timer.c
      1          #include "alarm_timer.h"
      2          #include "time_manager.h"
      3          #include "action_manager.h"
      4          
      5          /**
      6          @file
      7          */
      8          
      9          // Определения
     10          // Локальные переменные
     11          // Локальные функции
     12          static void HW_Init(void);  
     13          static void SW_Init(void); 
     14          static void Sleep(void); 
     15          static void Wakeup(void); 
     16          static void Cold_Start(void); 
     17          static void Hot_Start(void); 
     18          

   \                                 In  segment XDATA_I, align 1, keep-with-next
     19          module_s AT_MODULE = {ALIAS(HW_Init),ALIAS(SW_Init),ALIAS(Sleep),
   \                     AT_MODULE:
   \   000000                DS 12
   \   00000C                REQUIRE `?<Initializer for AT_MODULE>`
   \   00000C                REQUIRE __INIT_XDATA_I
     20            ALIAS(Wakeup),ALIAS(Cold_Start), ALIAS(Hot_Start)};
     21          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     22          static void HW_Init(void){};  
   \                     HW_Init:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   02....       LJMP      ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     23          static void SW_Init(void){}; 
   \                     SW_Init:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   02....       LJMP      ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     24          static void Sleep(void){}; 
   \                     Sleep:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   02....       LJMP      ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     25          static void Wakeup(void){}; 
   \                     Wakeup:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   02....       LJMP      ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     26          static void Cold_Start(void){}; 
   \                     Cold_Start:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   02....       LJMP      ?BRET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     27          static void Hot_Start(void){};
   \                     Hot_Start:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
   \   000000   02....       LJMP      ?BRET
     28          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     29          void AT_set_time(nwtime_t time){
   \                     AT_set_time:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     30          }
   \   000000   02....       LJMP      ?BRET
     31          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     32          void AT_set_alarm(nwtime_t alarm){
   \                     AT_set_alarm:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     33          }
   \   000000   02....       LJMP      ?BRET
     34          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     35          nwtime_t AT_time(void){
   \                     AT_time:
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
     36            return 0;
   \   000000   7A00         MOV       R2,#0x0
   \   000002   7B00         MOV       R3,#0x0
   \   000004   02....       LJMP      ?BRET
     37          }
     38          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     39          void AT_wait(nwtime_t time){
   \                     AT_wait:
   \   000000   74F7         MOV       A,#-0x9
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV       A,R2
   \   000006   FE           MOV       R6,A
   \   000007   EB           MOV       A,R3
   \   000008   FF           MOV       R7,A
     40            TM_IRQ(time); // тест
   \   000009                ; Setup parameters for call to function TM_IRQ
   \   000009   EE           MOV       A,R6
   \   00000A   FA           MOV       R2,A
   \   00000B   EF           MOV       A,R7
   \   00000C   FB           MOV       R3,A
   \   00000D   12....       LCALL     `??TM_IRQ::?relay`; Banked call to: TM_IRQ
     41          }
   \   000010   7F01         MOV       R7,#0x1
   \   000012   02....       LJMP      ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for AT_MODULE>`:
   \   000000   ....         DW `??HW_Init::?relay`
   \   000002   ....         DW `??SW_Init::?relay`
   \   000004   ....         DW `??Sleep::?relay`
   \   000006   ....         DW `??Wakeup::?relay`
   \   000008   ....         DW `??Cold_Start::?relay`
   \   00000A   ....         DW `??Hot_Start::?relay`

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??HW_Init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    HW_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??SW_Init::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SW_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??Sleep::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Sleep

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??Wakeup::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Wakeup

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??Cold_Start::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Cold_Start

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??Hot_Start::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    Hot_Start

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??AT_set_time::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_set_time

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??AT_set_alarm::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_set_alarm

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??AT_time::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_time

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??AT_wait::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    AT_wait
     42          
     43          

   Maximum stack usage in bytes:

   XSTACK Function
   ------ --------
      0   AT_set_alarm
      0   AT_set_time
      0   AT_time
      9   AT_wait
        9   -> TM_IRQ
      0   Cold_Start
      0   HW_Init
      0   Hot_Start
      0   SW_Init
      0   Sleep
      0   Wakeup


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      12  ?<Initializer for AT_MODULE>
      12  AT_MODULE
       3  AT_set_alarm
       6  AT_set_alarm::?relay
       3  AT_set_time
       6  AT_set_time::?relay
       7  AT_time
       6  AT_time::?relay
      21  AT_wait
       6  AT_wait::?relay
       3  Cold_Start
       6  Cold_Start::?relay
       3  HW_Init
       6  HW_Init::?relay
       3  Hot_Start
       6  Hot_Start::?relay
       3  SW_Init
       6  SW_Init::?relay
       3  Sleep
       6  Sleep::?relay
       3  Wakeup
       6  Wakeup::?relay

 
 52 bytes in segment BANKED_CODE
 60 bytes in segment BANK_RELAYS
 12 bytes in segment XDATA_I
 12 bytes in segment XDATA_ID
 
 72 bytes of CODE     memory
 52 bytes of HUGECODE memory
 12 bytes of XDATA    memory

Errors: none
Warnings: none
